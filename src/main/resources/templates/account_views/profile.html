<html lang="en" xmlns:th="www.thymeleaf.org">

<head th:replace="/fragments/head :: head"></head>

<body>
    <!--PreLoader-->
    <div class="loader">
        <div class="loader-inner">
            <div class="circle"></div>
        </div>
    </div>
    <!--PreLoader Ends-->
    <header th:replace="/fragments/header :: header"></header>

    <div class="breadcrumb-section breadcrumb-bg">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2 text-center">
                    <div class="breadcrumb-text">
                        <p></p>
                        <h1>Profile</h1>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- check out section -->
    <div class="checkout-section mt-70 mb-150">
        <div class="container">
            <div class="row">
                <div class="col-lg-8">
                    <div class="checkout-accordion-wrap">
                        <div class="accordion" id="accordionExample">
                            <div class="card single-accordion">
                                <div class="card-header" id="headingOne">
                                    <img th:src="@{${photo}}" class="rounded-circle"
                                        style="width:150px; float:left; padding:10px 10px 10px 10px" alt="Avatar">

                                    <form class="billing-address-form" th:action="@{/update_photo}"
                                        enctype="multipart/form-data" method="post">
                                        <p><input type="file" name="file" class="form-control-file"></p>
                                        <p th:text="${error}" th:if="${error ne null}" class="alert alert-danger"></p>
                                        <button type="submit" class="btn btn-primary">Update photo</button>
                                    </form>
                                </div>
                                <div id="collapseOne" class="collapse show" aria-labelledby="headingOne"
                                    data-parent="#accordionExample">
                                    <div class="card-body">
                                        <div class="billing-address-form">
                                            <form action="#" th:action="@{/profile}" th:object="${account}"
                                                method="post">
                                                <input type="hidden" name="id" id="id" th:field="*{id}">

                                                <p><input id="firstName" type="text" th:field="*{firstName}"
                                                        name="firstName" placeholder="First Name"></p>
                                                <p th:if="${#fields.hasErrors('firstName')}" th:errors="*{firstName}"
                                                    class="alert alert-danger" role="alert">Firstname error</p>

                                                <p><input id="lastName" type="text" th:field="*{lastName}"
                                                        placeholder="Last Name"></p>
                                                <p th:if="${#fields.hasErrors('lastName')}" th:errors="*{lastName}"
                                                    class="alert alert-danger" role="alert"> LastName error</p>

                                                <p><input id="email" type="email" th:field="*{email}"
                                                        placeholder="Email"></p>
                                                <p th:if="${#fields.hasErrors('email')}" th:errors="*{email}"
                                                    class="alert alert-danger" role="alert">Email error</p>

                                                <p><input id="password" type="password" th:field="*{password}"
                                                        placeholder="Password"></p>
                                                <p th:if="${#fields.hasErrors('password')}" th:errors="*{password}"
                                                    class="alert alert-danger" role="alert">Password error</p>


                                                <p><input id="age" type="number" th:field="*{age}" min="18" max="99"
                                                        placeholder="Age">
                                                </p>
                                                <p th:if="${#fields.hasErrors('age')}" th:errors="*{age}"
                                                    class="alert alert-danger" role="alert">Password error</p>

                                                <p><input id="dateOfBirth" type="date" th:field="*{dateOfBirth}"
                                                        placeholder="Date of birth" required></p>
                                                <p th:if="${#fields.hasErrors('dateOfBirth')}"
                                                    th:errors="*{dateOfBirth}" class="alert alert-danger" role="alert">
                                                    dateOfBirth error</p>

                                                <p><select name="gender" id="gender" th:field="*{gender}"
                                                        class="form-control">
                                                        <option value="Male">Male</option>
                                                        <option value="Female">Female</option>
                                                        <option value="Others">Others</option>
                                                    </select></p>
                                                <p th:if="${#fields.hasErrors('gender')}" th:errors="*{gender}"
                                                    class="alert alert-danger" role="alert"> Gender error</p>

                                                <input type="submit" class="boxed-btn" value="Update profile">
                                            </form>
                                        </div>
                                    </div>
                                </div>
                            </div>

                        </div>

                    </div>
                </div>


            </div>
        </div>
    </div>
    <!-- end hero area -->
    <footer th:replace="/fragments/footer :: footer"></footer>
</body>

</html>